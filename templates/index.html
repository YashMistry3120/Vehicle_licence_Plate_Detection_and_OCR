


<html>

<head>
	<style>
	
		
		#camera {
			width: 480px;
            height: 320px;
            border: 1px solid #000000;
		}

		#result img{
            width: 480px;
            height: 320px;            
            border: 1px solid #000000;
		}
		
		
	</style>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" >
</head>

<body>
<div style="text-align:center;background-color:#99ccff;>
 <p class="text"><h2><b>Object Detection</b></h2></p>
</div>
<div id="UploadFile">
<center>
   
    <p>Upload an image
    <div class="upload-form">
      <form action = "/" method = "POST" 
        enctype = "multipart/form-data">
        <input id="file1" type = "file" name = "file" />
        <input type = "submit"/>
      </form>
    </div>
</center>
</div>

<div  class="row" id="SnapShot">
	<div class="col-md-4" id="camera"></div>
	<div class="col-md-1"><button  class="btn btn-primary mt-5 " onclick="take_snapshot()">Take snapshot</button></div>
	<div class="col-md-4" id="result"></div>
	
</div>
<div class="row">

</div>


</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/webcamjs/1.0.26/webcam.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" ></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script>

	Webcam.set({
        width: 480,
        height:320,
		image_format: 'jpeg',
		jpeg_quality: 100

	})

	Webcam.attach("#camera")
		
            
		
	
	function take_snapshot() {



	
		Webcam.snap(function (data_uri) {
					
		
            //  document.getElementById("file1").value = data_uri;

			//alert(data_uri);
	//		document.getElementById("file1").click();
		
				document.getElementById('result').innerHTML = '<img id="resultimg" src="' + data_uri + '"/> ';
				
				
		});

	

		domtoimage.toJpeg(document.getElementById('resultimg'))
		.then(function (dataUrl) {
			var link = document.createElement('a');
			link.download = 'my-image-name.jpeg';
			link.href = dataUrl;
			link.click();
			
			
			
			
		});

				//document.getElementById("SnapShot").style.display = "none";
				//document.getElementById("UploadFile").style.display = "block";
		
	
	}





</script>

</html>